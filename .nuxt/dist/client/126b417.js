(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{400:function(t,e,n){"use strict";var r=n(408).has;t.exports=function(t){return r(t),t}},405:function(t,e,n){"use strict";var r=n(4),o=n(496),c=n(408),l=c.Map,m=c.proto,d=r(m.forEach),f=r(m.entries),v=f(new l).next;t.exports=function(map,t,e){return e?o({iterator:f(map),next:v},(function(e){return t(e[1],e[0])})):d(map,t)}},408:function(t,e,n){"use strict";var r=n(4),o=Map.prototype;t.exports={Map:Map,set:r(o.set),get:r(o.get),has:r(o.has),remove:r(o.delete),proto:o}},441:function(t,e,n){"use strict";var r=n(2),o=n(4),c=n(94),l=n(14),m=n(10),d=n(17).f,f=n(74),v=n(262),h=n(490),y=n(134),x=n(492),C=!1,_=y("meta"),w=0,k=function(t){d(t,_,{value:{objectID:"O"+w++,weakData:{}}})},meta=t.exports={enable:function(){meta.enable=function(){},C=!0;var t=f.f,e=o([].splice),n={};n[_]=1,t(n).length&&(f.f=function(n){for(var r=t(n),i=0,o=r.length;i<o;i++)if(r[i]===_){e(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:v.f}))},fastKey:function(t,e){if(!l(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!m(t,_)){if(!h(t))return"F";if(!e)return"E";k(t)}return t[_].objectID},getWeakData:function(t,e){if(!m(t,_)){if(!h(t))return!0;if(!e)return!1;k(t)}return t[_].weakData},onFreeze:function(t){return x&&C&&h(t)&&!m(t,_)&&k(t),t}};c[_]=!0},442:function(t,e,n){var content=n(510);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(133).default)("3f96e3ee",content,!0,{sourceMap:!1})},460:function(t,e,n){"use strict";n.r(e);n(51);var r=n(12),o=(n(73),n(265),n(487),n(20),n(43),n(494),n(495),n(497),n(498),n(499),n(500),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(44),n(40),n(401)),c=n.n(o),l=n(183),m={name:"CommentSection",props:{dialogVisible:Boolean,roomId:Number},devServer:{proxy:{"/api":{target:"http://8.138.105.61",changeOrigin:!0}}},watch:{roomId:function(t,e){console.log("Prop changed for selectedRoomId for comment: ",t," | was: ",e),this.getComments()}},data:function(){return{commentsMap:null,addComment:!1,addReply:!1,loadFinish:!1,comment:{user:1,comment:null,rating:null},reply:{user:1,replyTo:null,comment:null}}},methods:{handleReply:function(t){this.addReply?(this.addReply=!1,this.reply.comment=null,this.reply.replyTo=null):(this.addReply=!0,this.reply.replyTo=t)},submitComment:function(t){var e=this,n={};null!=(n=t?{dormitory:this.roomId,comment:this.reply.comment,rating:null,parent:this.reply.replyTo}:{dormitory:this.roomId,comment:this.comment.comment,rating:this.comment.rating,parent:null}).comment&&""!==n.comment&&null!=n.dormitory?(c.a.defaults.withCredentials=!0,c.a.post("http://8.138.105.61/api/create-comment/",n).then((function(t){e.getComments(),console.log(t.data)}))):null===n.comment||""===n.comment?l.MessageBox.alert("Please enter a valid comment.","Alert",{confirmButtonText:"Back",type:"warning"}):l.MessageBox.alert("System error.","Alert",{confirmButtonText:"Back",type:"warning"})},handleClose:function(){console.log(this.commentsMap),this.addComment=!1,this.$emit("closeComment",!0)},getComments:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.loadFinish=!1,n=new Map,t.roomId&&(r={dorm_id:t.roomId},c.a.get("http://8.138.105.61/api/comment/",{params:r}).then((function(e){e.data.forEach((function(t){var e=t.id,r=t.comment,time=t.time,o=t.avatar,c=t.replyTo,l=t.name,m=t.rating;if(c){var d=n.get(c);if(d){var f={id:e,comment:r,time:time,name:l,rating:m,avatar:o};d.replies.push(f)}}else n.set(e,{id:e,comment:r,time:time,name:l,rating:m,avatar:o,replies:[]})})),t.commentsMap=n,t.loadFinish=!0,console.log(t.commentsMap)})).catch((function(t){console.error("An error occurred while fetching comments:",t.message)})));case 3:case"end":return e.stop()}}),e)})))()}},created:function(){this.getComments()},computed:{hasComments:function(){console.log("Calling coputed function!");var t=this.commentsMap.size>0;return console.log("Computed value for hasComments:",t),console.log("Current Map right now"),console.log(this.commentsMap),t}}},d=(n(509),n(50)),component=Object(d.a)(m,(function(){var t=this,e=t._self._c;return t.dialogVisible?e("div",[t.loadFinish&&t.hasComments?e("div",[e("el-dialog",{attrs:{visible:t.dialogVisible,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("h1",{staticClass:"header-style"},[t._v("Comment")]),t._v(" "),e("el-collapse",{},[e("el-collapse-item",{attrs:{title:"Room Layout",name:"1"}},[e("img",{staticClass:"centered-image",attrs:{src:n(486),alt:"@/static/sampleroomlayout.png"}})])],1),t._v(" "),t._l(t.commentsMap,(function(n){return e("div",{key:n[1].id,staticClass:"comment-item"},[e("el-row",[e("el-col",{attrs:{span:2}},[e("el-avatar",{attrs:{src:n[1].avatar}})],1),t._v(" "),e("el-col",{attrs:{span:16}},[e("p",{staticClass:"comment-info"},[e("strong",[t._v(" "+t._s(n[1].name))])])]),t._v(" "),e("el-col",{staticClass:"comment-right",attrs:{span:6}},[e("el-rate",{attrs:{size:"large",disabled:""},model:{value:n[1].rating,callback:function(e){t.$set(n[1],"rating",e)},expression:"comment[1].rating"}})],1)],1),t._v(" "),e("el-row",[e("el-col",{attrs:{span:20}},[e("p",{staticClass:"comment-info"},[t._v(t._s(n[1].comment))])]),t._v(" "),e("el-col",{staticClass:"comment-right",attrs:{span:4}},[e("p",{on:{click:function(e){return t.handleReply(n[1].id)}}},[t._v(t._s(t.addReply&&t.reply.replyTo===n[1].id?"Cancel Reply":"Reply"))])])],1),t._v(" "),t.addReply&&t.reply.replyTo===n[1].id?e("div",[e("el-input",{staticStyle:{margin:"10px"},attrs:{placeholder:"Please input reply"},model:{value:t.reply.comment,callback:function(e){t.$set(t.reply,"comment",e)},expression:"reply.comment"}}),t._v(" "),e("button",{on:{click:function(e){return t.submitComment(!0)}}},[t._v("Submit Reply")])],1):t._e(),t._v(" "),e("div",t._l(n[1].replies,(function(r){return e("div",{key:n[1].id,staticClass:"replycontainer"},[e("el-row",[e("el-col",{attrs:{span:2}},[e("el-avatar",{attrs:{src:r.avatar}})],1),t._v(" "),e("el-col",{attrs:{span:10}},[e("p",{staticClass:"comment-info"},[e("strong",[t._v(" "+t._s(r.name))])])])],1),t._v(" "),e("p",[t._v(t._s(r.comment))])],1)})),0)],1)})),t._v(" "),e("div",{staticStyle:{margin:"10px","border-top":"1px solid #ccc"}},[e("button",{staticStyle:{"background-color":"burlywood","margin-top":"20px"},on:{click:function(e){t.addComment=!t.addComment}}},[t._v(t._s(t.addComment?"Cancel Comment":"Comment"))]),t._v(" "),t.addComment?e("div",[e("el-rate",{staticStyle:{"margin-top":"10px"},attrs:{size:"large"},model:{value:t.comment.rating,callback:function(e){t.$set(t.comment,"rating",e)},expression:"comment.rating"}}),t._v(" "),e("el-input",{staticStyle:{margin:"10px"},attrs:{placeholder:"Type your feeling on this room!"},model:{value:t.comment.comment,callback:function(e){t.$set(t.comment,"comment",e)},expression:"comment.comment"}}),t._v(" "),e("button",{on:{click:function(e){return t.submitComment(!1)}}},[t._v("Submit Comment")])],1):t._e()])],2)],1):e("div",[e("el-dialog",{attrs:{title:"No Comment",visible:t.dialogVisible,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("p",[t._v("No comment")]),t._v(" "),e("div",{staticStyle:{margin:"10px","border-top":"1px solid #ccc"}},[e("button",{staticStyle:{"background-color":"burlywood","margin-top":"20px"},on:{click:function(e){t.addComment=!t.addComment}}},[t._v(t._s(t.addComment?"Cancel Comment":"Comment"))]),t._v(" "),t.addComment?e("div",[e("el-rate",{attrs:{size:"large"},model:{value:t.comment.rating,callback:function(e){t.$set(t.comment,"rating",e)},expression:"comment.rating"}}),t._v(" "),e("el-input",{staticStyle:{margin:"10px"},attrs:{placeholder:"Type your feeling on this room!"},model:{value:t.comment.comment,callback:function(e){t.$set(t.comment,"comment",e)},expression:"comment.comment"}}),t._v(" "),e("button",{on:{click:function(e){return t.submitComment(!1)}}},[t._v("Submit Comment")])],1):t._e()])])],1)]):t._e()}),[],!1,null,"4dc83759",null);e.default=component.exports},486:function(t,e,n){t.exports=n.p+"img/sampleroomlayout.eb0903d.png"},487:function(t,e,n){"use strict";n(488)},488:function(t,e,n){"use strict";n(489)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(493))},489:function(t,e,n){"use strict";var r=n(2),o=n(5),c=n(4),l=n(95),m=n(15),d=n(441),f=n(180),v=n(181),h=n(6),y=n(42),x=n(14),C=n(3),_=n(184),w=n(77),k=n(188);t.exports=function(t,e,n){var M=-1!==t.indexOf("Map"),S=-1!==t.indexOf("Weak"),R=M?"set":"add",E=o[t],T=E&&E.prototype,z=E,O={},I=function(t){var e=c(T[t]);m(T,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(S&&!x(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return S&&!x(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(S&&!x(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(l(t,!h(E)||!(S||T.forEach&&!C((function(){(new E).entries().next()})))))z=n.getConstructor(e,t,M,R),d.enable();else if(l(t,!0)){var j=new z,A=j[R](S?{}:-0,1)!==j,B=C((function(){j.has(1)})),F=_((function(t){new E(t)})),N=!S&&C((function(){for(var t=new E,e=5;e--;)t[R](e,e);return!t.has(-0)}));F||((z=e((function(t,e){v(t,T);var n=k(new E,t,z);return y(e)||f(e,n[R],{that:n,AS_ENTRIES:M}),n}))).prototype=T,T.constructor=z),(B||N)&&(I("delete"),I("has"),M&&I("get")),(N||A)&&I(R),S&&T.clear&&delete T.clear}return O[t]=z,r({global:!0,constructor:!0,forced:z!==E},O),w(z,t),S||n.setStrong(z,t,M),z}},490:function(t,e,n){"use strict";var r=n(3),o=n(14),c=n(28),l=n(491),m=Object.isExtensible,d=r((function(){m(1)}));t.exports=d||l?function(t){return!!o(t)&&((!l||"ArrayBuffer"!==c(t))&&(!m||m(t)))}:m},491:function(t,e,n){"use strict";var r=n(3);t.exports=r((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},492:function(t,e,n){"use strict";var r=n(3);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},493:function(t,e,n){"use strict";var r=n(57),o=n(76),c=n(264),l=n(53),m=n(181),d=n(42),f=n(180),v=n(185),h=n(186),y=n(187),x=n(9),C=n(441).fastKey,_=n(35),w=_.set,k=_.getterFor;t.exports={getConstructor:function(t,e,n,v){var h=t((function(t,o){m(t,y),w(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),x||(t.size=0),d(o)||f(o,t[v],{that:t,AS_ENTRIES:n})})),y=h.prototype,_=k(e),M=function(t,e,n){var r,o,c=_(t),l=S(t,e);return l?l.value=n:(c.last=l={index:o=C(e,!0),key:e,value:n,previous:r=c.last,next:void 0,removed:!1},c.first||(c.first=l),r&&(r.next=l),x?c.size++:t.size++,"F"!==o&&(c.index[o]=l)),t},S=function(t,e){var n,r=_(t),o=C(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key===e)return n};return c(y,{clear:function(){for(var t=_(this),data=t.index,e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=void 0),delete data[e.index],e=e.next;t.first=t.last=void 0,x?t.size=0:this.size=0},delete:function(t){var e=this,n=_(e),r=S(e,t);if(r){var o=r.next,c=r.previous;delete n.index[r.index],r.removed=!0,c&&(c.next=o),o&&(o.previous=c),n.first===r&&(n.first=o),n.last===r&&(n.last=c),x?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=_(this),r=l(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!S(this,t)}}),c(y,n?{get:function(t){var e=S(this,t);return e&&e.value},set:function(t,e){return M(this,0===t?0:t,e)}}:{add:function(t){return M(this,t=0===t?0:t,t)}}),x&&o(y,"size",{configurable:!0,get:function(){return _(this).size}}),h},setStrong:function(t,e,n){var r=e+" Iterator",o=k(e),c=k(r);v(t,e,(function(t,e){w(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=c(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?h("keys"===e?n.key:"values"===e?n.value:[n.key,n.value],!1):(t.target=void 0,h(void 0,!0))}),n?"entries":"values",!n,!0),y(e)}}},494:function(t,e,n){"use strict";var r=n(2),o=n(400),c=n(408).remove;r({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=o(this),n=!0,r=0,l=arguments.length;r<l;r++)t=c(e,arguments[r]),n=n&&t;return!!n}})},495:function(t,e,n){"use strict";var r=n(2),o=n(53),c=n(400),l=n(405);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0);return!1!==l(map,(function(t,n){if(!e(t,n,map))return!1}),!0)}})},496:function(t,e,n){"use strict";var r=n(8);t.exports=function(t,e,n){for(var o,c,l=n?t:t.iterator,m=t.next;!(o=r(m,l)).done;)if(void 0!==(c=e(o.value)))return c}},497:function(t,e,n){"use strict";var r=n(2),o=n(53),c=n(400),l=n(408),m=n(405),d=l.Map,f=l.set;r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=new d;return m(map,(function(t,r){e(t,r,map)&&f(n,r,t)})),n}})},498:function(t,e,n){"use strict";var r=n(2),o=n(53),c=n(400),l=n(405);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=l(map,(function(t,n){if(e(t,n,map))return{value:t}}),!0);return n&&n.value}})},499:function(t,e,n){"use strict";var r=n(2),o=n(53),c=n(400),l=n(405);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=l(map,(function(t,n){if(e(t,n,map))return{key:n}}),!0);return n&&n.key}})},500:function(t,e,n){"use strict";var r=n(2),o=n(501),c=n(400),l=n(405);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return!0===l(c(this),(function(e){if(o(e,t))return!0}),!0)}})},501:function(t,e,n){"use strict";t.exports=function(t,e){return t===e||t!=t&&e!=e}},502:function(t,e,n){"use strict";var r=n(2),o=n(400),c=n(405);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var e=c(o(this),(function(e,n){if(e===t)return{key:n}}),!0);return e&&e.key}})},503:function(t,e,n){"use strict";var r=n(2),o=n(53),c=n(400),l=n(408),m=n(405),d=l.Map,f=l.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=new d;return m(map,(function(t,r){f(n,e(t,r,map),t)})),n}})},504:function(t,e,n){"use strict";var r=n(2),o=n(53),c=n(400),l=n(408),m=n(405),d=l.Map,f=l.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=new d;return m(map,(function(t,r){f(n,r,e(t,r,map))})),n}})},505:function(t,e,n){"use strict";var r=n(2),o=n(400),c=n(180),l=n(408).set;r({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var map=o(this),e=arguments.length,i=0;i<e;)c(arguments[i++],(function(t,e){l(map,t,e)}),{AS_ENTRIES:!0});return map}})},506:function(t,e,n){"use strict";var r=n(2),o=n(34),c=n(400),l=n(405),m=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var map=c(this),e=arguments.length<2,n=e?void 0:arguments[1];if(o(t),l(map,(function(r,o){e?(e=!1,n=r):n=t(n,r,o,map)})),e)throw m("Reduce of empty map with no initial value");return n}})},507:function(t,e,n){"use strict";var r=n(2),o=n(53),c=n(400),l=n(405);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0);return!0===l(map,(function(t,n){if(e(t,n,map))return!0}),!0)}})},508:function(t,e,n){"use strict";var r=n(2),o=n(34),c=n(400),l=n(408),m=TypeError,d=l.get,f=l.has,v=l.set;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,e){var map=c(this),n=arguments.length;o(e);var r=f(map,t);if(!r&&n<3)throw m("Updating absent value");var l=r?d(map,t):o(n>2?arguments[2]:void 0)(t,map);return v(map,t,e(l,t,map)),map}})},509:function(t,e,n){"use strict";n(442)},510:function(t,e,n){var r=n(132)((function(i){return i[1]}));r.push([t.i,".container[data-v-4dc83759]{align-items:center;display:flex;flex-direction:column;margin:0 auto;width:70%}.button-grid[data-v-4dc83759]{grid-gap:10px;//margin-bottom:40px;display:grid;gap:10px;grid-template-columns:minmax(100px,1fr) minmax(100px,1fr) minmax(100px,1fr)}.occupied[data-v-4dc83759]{background-color:red}.available[data-v-4dc83759]{background-color:green}ElCarousel[data-v-4dc83759]{height:auto}.carousel-custom[data-v-4dc83759]{border:2px solid #b3d1c8;height:auto;margin:20px auto 0;width:50%}.button-grid-container[data-v-4dc83759]{//margin:0 auto;align-items:flex-start;display:flex;flex-wrap:wrap;height:100%;justify-content:center}button[data-v-4dc83759]{padding:20px;width:100%}.comment-item[data-v-4dc83759]{margin-top:20px;text-align:left}.comment-info[data-v-4dc83759]{margin-bottom:5px}.comment-right[data-v-4dc83759]{margin-left:auto;margin-right:0;text-align:right}.replycontainer[data-v-4dc83759]{margin-left:20px}.header-style[data-v-4dc83759]{text-align:center}.centered-image[data-v-4dc83759]{display:block;height:auto;margin:0 auto;max-width:100%}",""]),r.locals={},t.exports=r}}]);